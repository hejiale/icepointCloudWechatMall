<view class='classContentView {{isShowClassView}}'>
  <view class='classListView'>
    <block wx:for-items="{{classList}}">
      <view class='classItem' wx:if="{{currentType == item.typeName}}" style='color: #222;border: 1px solid #222;' bindtap="onClassItemClicked" data-key="{{item}}">{{item.typeName}}</view>
      <view class='classItem' wx:else style='color: #999;border: 1px solid #e6e6e6;' bindtap="onClassItemClicked" data-key="{{item}}">{{item.typeName}}</view>
    </block>
  </view>
  <view class='closeCoverView' bindtap='onCloseClassCover'>
    <image class='closeCoverImage' src='../images/home_closeCover@2x.png' mode="aspectFit"></image>
  </view>
</view>
<view class="page">
  <view class="contentView">
    <view class="search-input-view">
      <view class="search-input">
        <image class="search-icon" src="../images/home_search@2x.png" mode="aspectFit" />
        <text class="inputSearch" bindtap='onSearchProduct'>请输入您要搜索的商品</text>
      </view>
      <view class="cartIcon" bindtap="onShoppingCart">
        <image src="../images/home_cart@2x.png" class="cartIconImg" mode="aspectFit"></image>
      </view>
    </view>
    <view class='classMenuView' wx:if="{{classList.length > 0}}">
      <scroll-view class="scroll-view-x" scroll-x="true" scroll-top="100">
        <ul class="hengxiangul">
          <li wx:for="{{classList}}" bindtap="onClassItemClicked" data-key="{{item}}">
            <text class='liText' style='color: #222222;' wx:if="{{currentType == item.typeName}}">{{item.typeName}}</text>
            <text class='liText' style='color: #999999;' wx:else>{{item.typeName}}</text>
            <view class='liBottomLine' wx:if="{{currentType == item.typeName}}"></view>
          </li>
        </ul>
      </scroll-view>
      <view class='openView' bindtap='onShowClassView'>
        <image class='openMenuImage' src='../images/icon_downArrow@2x.png' mode="aspectFit"></image>
      </view>
    </view>
    <view class='productListView {{isShowProductListView}}'>
      <block wx:for-items="{{productList}}">
        <view class="productView">
          <image class="productImage" mode="aspectFit" data-key="{{item}}"></image>
          <view class="productInfoView">
            <text class="productText"></text>
            <text class="priceText"></text>
          </view>
        </view>
      </block>
    </view>
  </view>
  <view class='templateContentView {{isShowTemplateView}}'>
    <block wx:for-items="{{templateList}}" wx:for-item="template">
      <view class='templateSessionView'>
        <text class='templateMainTitle'>{{template.mainTitle}}</text>
        <text class='templateSubTitle'>{{template.subTitle}}</text>
        <image src='{{template.mainPic[0]}}' style='width: 100%;' bindtap='onTemplateDetail' data-key='{{template}}'></image>
        <view class='templateGoodsView'>
          <block wx:for-items="{{template.productBeans}}">
            <view class='productView' wx:if="{{item.shopWindow}}" style='{{template.layout == "2" ? "width: 50%;":"width: 100%;"}}' bindtap='onGoodsDetail' data-key='{{item}}'>
              <image class="productImage" src='{{item.picture}}' mode="aspectFit" data-key="{{item}}"></image>
              <view class="productInfoView">
                <text class="productText">{{item.goodsName}}</text>
                <text class="priceText">￥{{item.price}}</text>
              </view>
            </view>
          </block>
        </view>
      </view>
    </block>
  </view>
  <scroll-view scroll-y="true" class='productListView {{isShowProductListView}}' bindscrolltolower="onLoadMore" lower-threshold='200'>
    <block wx:for-items="{{productList}}">
      <view class='productView' style='width: 50%;' bindtap='onGoodsDetail' data-key='{{item}}'>
        <image class="productImage" src='{{item.photoUrl}}' mode="aspectFit"></image>
        <view class="productInfoView">
          <text class="productText">{{item.goodsName}}</text>
          <text class="priceText">￥{{item.price}}</text>
        </view>
      </view>
    </block>
  </scroll-view>
</view>